<div class="form-container">
  <h2>{{ title }}</h2>

  <div *ngIf="loading" class="loading">
    Loading...
  </div>

  <form (ngSubmit)="onSubmit()" #productForm="ngForm" *ngIf="!loading">
    <div class="form-group">
      <label for="name">Product Name *</label>
      <input 
        type="text" 
        id="name" 
        name="name"
        [(ngModel)]="product.name"
        required
        #name="ngModel">
      <div class="error" *ngIf="name.invalid && (name.dirty || name.touched)">
        Name is required
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea 
        id="description" 
        name="description"
        [(ngModel)]="product.description"
        rows="3">
      </textarea>
    </div>

    <div class="form-group">
      <label for="price">Price *</label>
      <input 
        type="number" 
        id="price" 
        name="price"
        [(ngModel)]="product.price"
        required
        min="0"
        step="0.01"
        #price="ngModel">
      <div class="error" *ngIf="price.invalid && (price.dirty || price.touched)">
        Valid price is required
      </div>
    </div>

    <div class="form-group">
      <label for="category">Category *</label>
      <input 
        type="text" 
        id="category" 
        name="category"
        [(ngModel)]="product.category"
        required
        #category="ngModel">
      <div class="error" *ngIf="category.invalid && (category.dirty || category.touched)">
        Category is required
      </div>
    </div>

    <div class="button-group">
      <button type="submit" class="submit-btn" [disabled]="!productForm.form.valid">
        {{ isEditMode ? 'Update' : 'Create' }} Product
      </button>
      <button type="button" class="reset-btn" (click)="resetForm()">Reset</button>
      <button type="button" class="cancel-btn" (click)="cancel()">Cancel</button>
    </div>
  </form>
</div>
